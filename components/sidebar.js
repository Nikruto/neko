import { signIn, signOut, useSession, providers } from "next-auth/client";
import { useRouter } from "next/router";
import Link from "next/link";
import { motion } from "framer-motion";

const modules = [
  {
    name: "Main",
    route: "/app",
    Icon: DashboardIcon,
  },
  {
    name: "Main",
    route: "/app/giveaway",
    Icon: GiveawayIcon,
  },
  {
    name: "Signout",
    route: "/logout",
    Icon: SignoutIcon,
  },
];
function DashboardIcon() {
  return (
    <svg
      width="20"
      height="20"
      viewBox="0 0 30 30"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        fill="currentColor"
        d="M1.66667 16.6667H11.6667C12.1087 16.6667 12.5326 16.4911 12.8452 16.1785C13.1577 15.8659 13.3333 15.442 13.3333 15V1.66667C13.3333 1.22464 13.1577 0.800716 12.8452 0.488155C12.5326 0.175595 12.1087 0 11.6667 0H1.66667C1.22464 0 0.800716 0.175595 0.488155 0.488155C0.175595 0.800716 0 1.22464 0 1.66667V15C0 15.442 0.175595 15.8659 0.488155 16.1785C0.800716 16.4911 1.22464 16.6667 1.66667 16.6667ZM0 28.3333C0 28.7754 0.175595 29.1993 0.488155 29.5118C0.800716 29.8244 1.22464 30 1.66667 30H11.6667C12.1087 30 12.5326 29.8244 12.8452 29.5118C13.1577 29.1993 13.3333 28.7754 13.3333 28.3333V21.6667C13.3333 21.2246 13.1577 20.8007 12.8452 20.4882C12.5326 20.1756 12.1087 20 11.6667 20H1.66667C1.22464 20 0.800716 20.1756 0.488155 20.4882C0.175595 20.8007 0 21.2246 0 21.6667V28.3333ZM16.6667 28.3333C16.6667 28.7754 16.8423 29.1993 17.1548 29.5118C17.4674 29.8244 17.8913 30 18.3333 30H28.3333C28.7754 30 29.1993 29.8244 29.5118 29.5118C29.8244 29.1993 30 28.7754 30 28.3333V16.6667C30 16.2246 29.8244 15.8007 29.5118 15.4882C29.1993 15.1756 28.7754 15 28.3333 15H18.3333C17.8913 15 17.4674 15.1756 17.1548 15.4882C16.8423 15.8007 16.6667 16.2246 16.6667 16.6667V28.3333ZM18.3333 11.6667H28.3333C28.7754 11.6667 29.1993 11.4911 29.5118 11.1785C29.8244 10.8659 30 10.442 30 10V1.66667C30 1.22464 29.8244 0.800716 29.5118 0.488155C29.1993 0.175595 28.7754 0 28.3333 0H18.3333C17.8913 0 17.4674 0.175595 17.1548 0.488155C16.8423 0.800716 16.6667 1.22464 16.6667 1.66667V10C16.6667 10.442 16.8423 10.8659 17.1548 11.1785C17.4674 11.4911 17.8913 11.6667 18.3333 11.6667Z"
      />
    </svg>
  );
}

function GiveawayIcon() {
  return (
    <svg
      width="20"
      height="20"
      viewBox="0 0 30 30"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M1.8 28.8406C1.8 29.4819 2.33625 30 3 30H13.725V16.3768H1.8V28.8406ZM16.275 30H27C27.6638 30 28.2 29.4819 28.2 28.8406V16.3768H16.275V30ZM28.8 7.68116H23.265C23.775 6.9058 24.075 5.98551 24.075 5C24.075 2.24275 21.7538 0 18.9 0C17.3475 0 15.9488 0.666666 15 1.71739C14.0513 0.666666 12.6525 0 11.1 0C8.24625 0 5.925 2.24275 5.925 5C5.925 5.98551 6.22125 6.9058 6.735 7.68116H1.2C0.53625 7.68116 0 8.19928 0 8.84058V13.913H13.725V7.68116H16.275V13.913H30V8.84058C30 8.19928 29.4638 7.68116 28.8 7.68116ZM13.725 7.53623H11.1C9.6525 7.53623 8.475 6.39855 8.475 5C8.475 3.60145 9.6525 2.46377 11.1 2.46377C12.5475 2.46377 13.725 3.60145 13.725 5V7.53623ZM18.9 7.53623H16.275V5C16.275 3.60145 17.4525 2.46377 18.9 2.46377C20.3475 2.46377 21.525 3.60145 21.525 5C21.525 6.39855 20.3475 7.53623 18.9 7.53623Z"
        fill="currentColor"
      />
    </svg>
  );
}

function SignoutIcon() {
  return (
    <svg
      width="20"
      height="20"
      viewBox="0 0 30 30"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M2.06897 2.14286H18.6208V12.6429H20.6897V2.14286C20.6897 1.57454 20.4718 1.02949 20.0838 0.627628C19.6957 0.225765 19.1695 0 18.6208 0H2.06897C1.52025 0 0.993996 0.225765 0.605988 0.627628C0.21798 1.02949 0 1.57454 0 2.14286V27.8571C0 28.4255 0.21798 28.9705 0.605988 29.3724C0.993996 29.7742 1.52025 30 2.06897 30H18.6208C19.1695 30 19.6957 29.7742 20.0838 29.3724C20.4718 28.9705 20.6897 28.4255 20.6897 27.8571H2.06897V2.14286Z"
        fill="currentColor"
      />
      <path
        d="M23.9585 14.2286C23.7606 14.0531 23.5061 13.9613 23.2457 13.9717C22.9854 13.9822 22.7384 14.0939 22.5541 14.2848C22.3699 14.4756 22.262 14.7314 22.2519 15.001C22.2419 15.2707 22.3304 15.5343 22.4999 15.7393L25.9965 19.2857H10.9964C10.722 19.2857 10.4589 19.3986 10.2649 19.5995C10.0709 19.8005 9.96191 20.073 9.96191 20.3572C9.96191 20.6413 10.0709 20.9138 10.2649 21.1148C10.4589 21.3157 10.722 21.4286 10.9964 21.4286H25.9965L22.4999 25.1357C22.3916 25.2318 22.3037 25.35 22.2416 25.4829C22.1795 25.6158 22.1446 25.7606 22.1391 25.9082C22.1336 26.0557 22.1576 26.2029 22.2096 26.3404C22.2616 26.4778 22.3405 26.6027 22.4413 26.7071C22.5421 26.8115 22.6627 26.8933 22.7954 26.9471C22.9282 27.001 23.0702 27.0258 23.2127 27.0201C23.3552 27.0144 23.495 26.9783 23.6233 26.914C23.7517 26.8497 23.8658 26.7586 23.9585 26.6464L29.9999 20.4322L23.9585 14.2286Z"
        fill="currentColor"
      />
    </svg>
  );
}

function SidebarIcon({ Icon, active, route }) {
  return (
    <div
      className={`relative w-full flex justify-center ${
        active ? "text-[#ff4141]" : "text-[#AAA]"
      }`}
    >
      {active && (
        <div className="absolute left-0 top-1/2 w-1 h-8 transform -translate-y-1/2">
          <motion.div
            layoutId="indicator"
            className=" w-full h-full rounded-tr-full rounded-br-full bg-[#ff4141]"
          ></motion.div>
        </div>
      )}
      <Link href={route}>
        <a className="hover:scale-125 transition">
          <Icon />
        </a>
      </Link>
    </div>
  );
}

export default function Sidebar() {
  const [session, loading] = useSession();
  const router = useRouter();

  return (
    <div className="w-14 pt-2 flex flex-col items-center">
      <h1 className="font-medium text-[#ff4141]">ZEON</h1>
      <div className="flex flex-col items-center w-full mt-8 space-y-8">
        {modules.map((icon) => (
          <SidebarIcon
            key={icon.route}
            Icon={icon.Icon}
            active={router.route == icon.route}
            route={icon.route}
          />
        ))}
      </div>
    </div>
  );
}
